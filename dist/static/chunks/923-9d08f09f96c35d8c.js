"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[923],{66908:function(e,t,r){r.d(t,{Z:function(){return Button}});var i=r(57437);function Button(e){let{children:t,variant:r="primary",size:a="md",loading:n=!1,fullWidth:s=!1,icon:l,className:o="",disabled:c,...u}=e,p="sm"===a?"16px":"md"===a?"20px":"24px";return(0,i.jsxs)("button",{...u,disabled:c||n,className:"".concat("relative inline-flex items-center justify-center font-semibold rounded-lg transition-all duration-200 touch-manipulation overflow-hidden"," ").concat({primary:"bg-gradient-to-r from-primary-600 to-primary-700 text-white active:from-primary-700 active:to-primary-800 active:scale-[0.97] shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",secondary:"bg-gray-200 text-gray-700 active:bg-gray-300 active:scale-[0.97] disabled:opacity-50 disabled:cursor-not-allowed",danger:"bg-gradient-to-r from-red-600 to-red-700 text-white active:from-red-700 active:to-red-800 active:scale-[0.97] shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",ghost:"bg-white text-gray-700 border border-gray-200/60 active:bg-gray-50 active:scale-[0.97] shadow-sm disabled:opacity-50 disabled:cursor-not-allowed"}[r]," ").concat({sm:"px-3 py-1.5 text-xs gap-1.5",md:"px-4 py-2.5 text-sm gap-2",lg:"px-5 py-3 text-base gap-2"}[a]," ").concat(s?"w-full":""," ").concat(o),style:{WebkitTapHighlightColor:"transparent",...u.style},children:[n&&(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-inherit rounded-lg animate-fade-in z-10",children:(0,i.jsxs)("svg",{className:"animate-spin text-current",style:{width:p,height:p},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,i.jsxs)("span",{className:"inline-flex items-center justify-center gap-2 transition-opacity duration-200 ".concat(n?"opacity-0":"opacity-100"),children:[l&&(0,i.jsx)("span",{className:"flex-shrink-0",children:l}),t]})]})}r(2265)},88923:function(e,t,r){r.r(t),r.d(t,{default:function(){return NativePopup},nativePopup:function(){return m}});var i=r(57437),a=r(2265),n=r(54887),s=r(13008),l=r(11981),o=r(72894),c=r(74056),u=r(82549),p=r(66908);let d=null,m={confirm:async e=>new Promise((t,r)=>{if(!d){r(Error("NativePopup not initialized"));return}d.setState({isOpen:!0,type:"confirm",title:e.title||"Are you sure?",message:e.message||"",confirmText:e.confirmText||"Yes",cancelText:e.cancelText||"Cancel",inputValue:""}),d.resolve=e=>t(e),d.reject=r}),prompt:async e=>new Promise((t,r)=>{if(!d){r(Error("NativePopup not initialized"));return}d.setState({isOpen:!0,type:"prompt",title:e.title||"Enter value",message:e.message||"",inputLabel:e.inputLabel||"",inputPlaceholder:e.inputPlaceholder||"",inputValue:e.inputValue||"",inputType:e.inputType||"text",confirmText:e.confirmText||"OK",cancelText:e.cancelText||"Cancel",required:!1!==e.required,formatCurrencyInr:e.formatCurrencyInr||!1}),d.resolve=e=>t(e),d.reject=r}),success:async(e,t)=>new Promise((r,i)=>{if(!d){i(Error("NativePopup not initialized"));return}d.setState({isOpen:!0,type:"success",title:e,message:t||"",confirmText:"OK",inputValue:""}),d.resolve=()=>r(),d.reject=i,setTimeout(()=>{var e;if(d&&(null===(e=d.state)||void 0===e?void 0:e.isOpen)){let e=d.state;d.setState({...e,isClosing:!0}),setTimeout(()=>{if(d&&d.state){let e=d.state;d.setState({...e,isOpen:!1,inputValue:"",isClosing:!1}),(null==d?void 0:d.resolve)&&(d.resolve(void 0),d.resolve=()=>{})}},325)}},2500)}),error:async(e,t)=>new Promise((r,i)=>{if(!d){i(Error("NativePopup not initialized"));return}d.setState({isOpen:!0,type:"error",title:e,message:t||"",confirmText:"OK",inputValue:""}),d.resolve=()=>r(),d.reject=i}),info:async(e,t)=>new Promise((r,i)=>{if(!d){i(Error("NativePopup not initialized"));return}d.setState({isOpen:!0,type:"info",title:e,message:t||"",confirmText:"OK",inputValue:""}),d.resolve=()=>r(),d.reject=i}),warning:async(e,t)=>new Promise((r,i)=>{if(!d){i(Error("NativePopup not initialized"));return}d.setState({isOpen:!0,type:"warning",title:e,message:t||"",confirmText:"OK",inputValue:""}),d.resolve=()=>r(),d.reject=i}),fire:async e=>new Promise((t,r)=>{if(!d){r(Error("NativePopup not initialized"));return}let i=!1!==e.showCancelButton;d.setState({isOpen:!0,type:i?"confirm":e.icon||"info",title:e.title||"",message:e.message||"",confirmText:e.confirmText||"OK",cancelText:e.cancelText||"Cancel",inputValue:""}),d.resolve=e=>t({isConfirmed:!0===e||null!==e}),d.reject=r})};function NativePopup(){let[e,t]=(0,a.useState)({isOpen:!1,type:"confirm",title:"",message:"",inputValue:""}),[r,m]=(0,a.useState)(!1),[f,x]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),h=(0,a.useRef)(null),v=(0,a.useRef)(null),b=(0,a.useRef)(null);(0,a.useEffect)(()=>{let checkStandalone=()=>{let e=window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone||document.documentElement.classList.contains("standalone");y(e)};checkStandalone();let e=new MutationObserver(checkStandalone);return e.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>e.disconnect()},[]),(0,a.useEffect)(()=>(d={setState:e=>{e.isClosing?(m(!0),x(!1),setTimeout(()=>{t(e=>({...e,isOpen:!1,isClosing:!1})),m(!1)},325)):(m(!1),x(!1),t(e),d&&(d.state=e),e.isOpen&&(requestAnimationFrame(()=>{x(!0)}),"prompt"===e.type&&setTimeout(()=>{h.current&&(h.current.focus(),h.current instanceof HTMLInputElement&&h.current.select())},500)))},state:e,resolve:()=>{},reject:()=>{}},()=>{d=null}),[]);let handleClose=()=>{m(!0),x(!1),setTimeout(()=>{t(e=>({...e,isOpen:!1})),m(!1),(null==d?void 0:d.resolve)&&("prompt"===e.type?d.resolve(null):"confirm"===e.type?d.resolve(!1):d.resolve(void 0))},325)},formatCurrency=e=>{let t=e.replace(/[^0-9]/g,"");if(!t)return"";let r=new Intl.NumberFormat("en-IN",{maximumFractionDigits:0});return"â‚¹".concat(r.format(parseInt(t,10)))},handleInputChange=r=>{let i=r.target.value;e.formatCurrencyInr&&(i=formatCurrency(i)),t(e=>({...e,inputValue:i}))};if(!e.isOpen)return null;let w=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:v,onClick:e=>{e.target===v.current&&handleClose()},className:"fixed inset-0 bg-black/50 backdrop-blur-md z-[99999] popup-backdrop ".concat(r?"native-backdrop-exit":f?"native-backdrop-enter":"opacity-0"),style:{willChange:"opacity, backdrop-filter",WebkitTapHighlightColor:"transparent",touchAction:"none",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99999}}),(0,i.jsx)("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center p-4 pointer-events-none popup-container",style:{WebkitTapHighlightColor:"transparent",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99999},children:(0,i.jsxs)("div",{ref:b,className:"bg-white rounded-3xl border-0 shadow-[0_20px_60px_-12px_rgba(0,0,0,0.25)] max-w-sm w-full pointer-events-auto overflow-hidden ".concat(r?"native-modal-exit":f?"native-modal-enter":"opacity-0 scale-90 translate-y-8"),style:{willChange:"transform, opacity",backfaceVisibility:"hidden",WebkitFontSmoothing:"antialiased",transformStyle:"preserve-3d"},children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute inset-0 ".concat("success"===e.type?"bg-gradient-to-br from-green-50 to-white":"error"===e.type?"bg-gradient-to-br from-red-50 to-white":"warning"===e.type?"bg-gradient-to-br from-yellow-50 to-white":"info"===e.type?"bg-gradient-to-br from-blue-50 to-white":"bg-gradient-to-br from-gray-50 to-white")}),(0,i.jsxs)("div",{className:"relative flex items-start justify-between p-6 border-b border-gray-100/80",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:["prompt"!==e.type&&"confirm"!==e.type&&(0,i.jsxs)("div",{className:"flex-shrink-0 animate-pulse-once relative",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-white/60 rounded-full blur-xl"}),(0,i.jsx)("div",{className:"relative",children:(()=>{let t="w-14 h-14";switch(e.type){case"success":return(0,i.jsx)(s.Z,{className:"".concat(t," text-green-600"),strokeWidth:2.5});case"error":return(0,i.jsx)(l.Z,{className:"".concat(t," text-red-600"),strokeWidth:2.5});case"warning":return(0,i.jsx)(o.Z,{className:"".concat(t," text-yellow-600"),strokeWidth:2.5});case"info":return(0,i.jsx)(c.Z,{className:"".concat(t," text-blue-600"),strokeWidth:2.5});default:return(0,i.jsx)(l.Z,{className:"".concat(t," text-primary-600"),strokeWidth:2.5})}})()})]}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("h3",{className:"text-2xl font-bold text-gray-900 leading-tight tracking-tight",children:e.title}),e.message&&(0,i.jsx)("p",{className:"text-sm text-gray-600 mt-2.5 leading-relaxed whitespace-pre-line",children:e.message})]})]}),("success"===e.type||"error"===e.type||"info"===e.type||"warning"===e.type)&&(0,i.jsx)("button",{onClick:handleClose,className:"flex-shrink-0 p-2.5 rounded-2xl active:bg-gray-100/80 active:scale-95 transition-all duration-200 touch-manipulation",style:{WebkitTapHighlightColor:"transparent"},"aria-label":"Close",children:(0,i.jsx)(u.Z,{size:22,className:"text-gray-400"})})]})]}),(0,i.jsx)("div",{className:"p-6 bg-white",children:("prompt"===e.type||"confirm"===e.type)&&(0,i.jsx)("div",{className:"space-y-5",children:"prompt"===e.type&&(0,i.jsxs)("div",{children:[e.inputLabel&&(0,i.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-3",children:e.inputLabel}),"textarea"===e.inputType?(0,i.jsx)("textarea",{ref:h,value:e.inputValue,onChange:handleInputChange,placeholder:e.inputPlaceholder,className:"w-full px-4 py-3.5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 focus:bg-white resize-none transition-all duration-200 text-gray-900 placeholder:text-gray-400",rows:3}):(0,i.jsx)("input",{ref:h,type:"number"===e.inputType?"text":e.inputType,inputMode:e.formatCurrencyInr?"numeric":"number"===e.inputType?"decimal":"text",value:e.inputValue,onChange:handleInputChange,placeholder:e.inputPlaceholder,className:"w-full px-4 py-3.5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 focus:bg-white transition-all duration-200 text-gray-900 placeholder:text-gray-400"})]})})}),(0,i.jsx)("div",{className:"relative bg-gray-50/50",children:(0,i.jsxs)("div",{className:"flex gap-3 p-5",children:[("confirm"===e.type||"prompt"===e.type)&&(0,i.jsx)(p.Z,{onClick:handleClose,variant:"ghost",size:"lg",fullWidth:!0,children:e.cancelText||"Cancel"}),(0,i.jsx)(p.Z,{onClick:()=>{"prompt"===e.type?e.required&&!e.inputValue.trim()||(m(!0),x(!1),setTimeout(()=>{if(t(e=>({...e,isOpen:!1})),m(!1),null==d?void 0:d.resolve){let t=e.inputValue;e.formatCurrencyInr&&(t=t.replace(/[^0-9]/g,"")),d.resolve(t||null)}},325)):"confirm"===e.type?(m(!0),x(!1),setTimeout(()=>{t(e=>({...e,isOpen:!1})),m(!1),(null==d?void 0:d.resolve)&&d.resolve(!0)},325)):handleClose()},disabled:"prompt"===e.type&&e.required&&!e.inputValue.trim(),variant:"primary",size:"lg",fullWidth:!0,children:e.confirmText||"OK"})]})})]})})]});return(0,n.createPortal)(w,document.body)}}}]);